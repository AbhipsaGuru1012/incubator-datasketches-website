<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_66) on Fri Apr 08 12:45:44 PDT 2016 -->
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>CountMinFast (com.yahoo.datasketches:sketches-core 0.4.1-SNAPSHOT API)</title>
<meta name="date" content="2016-04-08">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="CountMinFast (com.yahoo.datasketches:sketches-core 0.4.1-SNAPSHOT API)";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10,"i5":10,"i6":10,"i7":10,"i8":10,"i9":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/CountMinFast.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev&nbsp;Class</li>
<li><a href="../../../../com/yahoo/sketches/frequencies/FrequencyEstimator.html" title="class in com.yahoo.sketches.frequencies"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?com/yahoo/sketches/frequencies/CountMinFast.html" target="_top">Frames</a></li>
<li><a href="CountMinFast.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">com.yahoo.sketches.frequencies</div>
<h2 title="Class CountMinFast" class="title">Class CountMinFast</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li>com.yahoo.sketches.frequencies.CountMinFast</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public class <span class="typeNameLabel">CountMinFast</span>
extends <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></pre>
<div class="block">The Count-Min sketch of Cormode and Muthukrishnan is useful for approximately answering point
 queries, i.e., queries of the form "what is the frequency of key i"? It can also answer other
 queries as well (range queries, inner product queries, heavy hitters, quantiles, etc.), though it
 incurs significant overheads for some of these other queries.
 
 The Count-Min algorithm can process deletion of items as well as insertions, since it is a linear
 sketch. However, using Count-Min to return frequent items in the presence of deletions requires
 significant overhead. To avoid this overhead, this class only answers point queries; it does have
 a function for returning frequent items. This class can process deletions as well as insertions.
 

 This implementation also supports the Conservative Update  rule proposed by Estan and Varghese (
 "New Directions in Traffic Measurement and Accounting: Focusing on the Elephants, Ignoring the Mice"
 ), which can provide more accurate answers than the update rule in the basic Count-Min sketch.
 
 This implementation uses powers of 2 hash-table sizes and a single-dimensional array for 
 improved performance.</div>
<dl>
<dt><span class="simpleTagLabel">Author:</span></dt>
<dd>Justin8712</dd>
</dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../../com/yahoo/sketches/frequencies/CountMinFast.html#CountMinFast-double-double-">CountMinFast</a></span>(double&nbsp;eps,
            double&nbsp;delta)</code>
<div class="block">Constructs and initializes a CountMin sketch, with various optimizations for speed.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/yahoo/sketches/frequencies/CountMinFast.html#conservative_update-long-">conservative_update</a></span>(long&nbsp;key)</code>&nbsp;</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/yahoo/sketches/frequencies/CountMinFast.html#conservative_update-long-long-">conservative_update</a></span>(long&nbsp;key,
                   long&nbsp;increment)</code>
<div class="block">Update this sketch with a key and an increment using the conservative_update function that 
 increments each counter to the smallest value still guaranteed to not underestimate any item's
 frequency.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/yahoo/sketches/frequencies/CountMinFast.html#getEstimate-long-">getEstimate</a></span>(long&nbsp;key)</code>&nbsp;</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/yahoo/sketches/frequencies/CountMinFast.html#getEstimateLowerBound-long-">getEstimateLowerBound</a></span>(long&nbsp;key)</code>&nbsp;</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/yahoo/sketches/frequencies/CountMinFast.html#getEstimateUpperBound-long-">getEstimateUpperBound</a></span>(long&nbsp;key)</code>&nbsp;</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/yahoo/sketches/frequencies/CountMinFast.html#getMaxError--">getMaxError</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>protected long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/yahoo/sketches/frequencies/CountMinFast.html#hash-long-">hash</a></span>(long&nbsp;key)</code>&nbsp;</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code><a href="../../../../com/yahoo/sketches/frequencies/CountMinFast.html" title="class in com.yahoo.sketches.frequencies">CountMinFast</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/yahoo/sketches/frequencies/CountMinFast.html#merge-com.yahoo.sketches.frequencies.CountMinFast-">merge</a></span>(<a href="../../../../com/yahoo/sketches/frequencies/CountMinFast.html" title="class in com.yahoo.sketches.frequencies">CountMinFast</a>&nbsp;other)</code>&nbsp;</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/yahoo/sketches/frequencies/CountMinFast.html#update-long-">update</a></span>(long&nbsp;key)</code>&nbsp;</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/yahoo/sketches/frequencies/CountMinFast.html#update-long-long-">update</a></span>(long&nbsp;key,
      long&nbsp;increment)</code>
<div class="block">Update this sketch with a key and an increment</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></h3>
<code><a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#clone--" title="class or interface in java.lang">clone</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#equals-java.lang.Object-" title="class or interface in java.lang">equals</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#finalize--" title="class or interface in java.lang">finalize</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#getClass--" title="class or interface in java.lang">getClass</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#hashCode--" title="class or interface in java.lang">hashCode</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#notify--" title="class or interface in java.lang">notify</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#notifyAll--" title="class or interface in java.lang">notifyAll</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#toString--" title="class or interface in java.lang">toString</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait--" title="class or interface in java.lang">wait</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait-long-" title="class or interface in java.lang">wait</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait-long-int-" title="class or interface in java.lang">wait</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="CountMinFast-double-double-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>CountMinFast</h4>
<pre>public&nbsp;CountMinFast(double&nbsp;eps,
                    double&nbsp;delta)</pre>
<div class="block">Constructs and initializes a CountMin sketch, with various optimizations for speed. The
 guarantee of the sketch is that the answer returned to any individual point query will, with
 probability at least 1-delta, be accurate to error plus or minus eps*F, where F is the sum of
 all the increments the sketch has processed.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>eps</code> - Estimates are guaranteed to have error eps*n with probability at least 1-delta,
        where n is sum of item frequencies</dd>
<dd><code>delta</code> - Estimates are guaranteed to have error eps*n with probability at least 1-delta,
        where n is sum of item frequencies</dd>
</dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="update-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>update</h4>
<pre>public&nbsp;void&nbsp;update(long&nbsp;key)</pre>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>key</code> - Process a key (specified as a long) update and treat the increment as 1, using the
        update function specified by Cormode and Muthukrishnan</dd>
</dl>
</li>
</ul>
<a name="conservative_update-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>conservative_update</h4>
<pre>public&nbsp;void&nbsp;conservative_update(long&nbsp;key)</pre>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>key</code> - Process a key (specified as a long) update and treat the increment as 1, using the
 conservative_update function that increments each counter to the smallest value still
 guaranteed to not underestimate any item's frequency.</dd>
</dl>
</li>
</ul>
<a name="update-long-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>update</h4>
<pre>public&nbsp;void&nbsp;update(long&nbsp;key,
                   long&nbsp;increment)</pre>
<div class="block">Update this sketch with a key and an increment</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>key</code> - the given key</dd>
<dd><code>increment</code> - Process a key (specified as a long) and an increment (also specified as a
 long). Increment can be negative</dd>
</dl>
</li>
</ul>
<a name="conservative_update-long-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>conservative_update</h4>
<pre>public&nbsp;void&nbsp;conservative_update(long&nbsp;key,
                                long&nbsp;increment)</pre>
<div class="block">Update this sketch with a key and an increment using the conservative_update function that 
 increments each counter to the smallest value still guaranteed to not underestimate any item's
 frequency.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>key</code> - the given key</dd>
<dd><code>increment</code> - Process a key (specified as a long) and an increment (also specified as a
        long). Increment can be negative</dd>
</dl>
</li>
</ul>
<a name="hash-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>hash</h4>
<pre>protected&nbsp;long&nbsp;hash(long&nbsp;key)</pre>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>key</code> - to be hashed</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>an index into the hash table</dd>
</dl>
</li>
</ul>
<a name="getEstimate-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getEstimate</h4>
<pre>public&nbsp;long&nbsp;getEstimate(long&nbsp;key)</pre>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>key</code> - whose count estimate is returned.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the approximate count for the key. It is guaranteed that with probability at least
 1-delta: 
 <ol><li>get(key) &gt;= real count</li>
 <li>get(key) &lt;= real count + getMaxError()</li>
 </ol></dd>
</dl>
</li>
</ul>
<a name="getEstimateUpperBound-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getEstimateUpperBound</h4>
<pre>public&nbsp;long&nbsp;getEstimateUpperBound(long&nbsp;key)</pre>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>key</code> - whose count estimate is returned.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>an upper bound on the count for the key (upper bound holds deterministically)</dd>
</dl>
</li>
</ul>
<a name="getEstimateLowerBound-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getEstimateLowerBound</h4>
<pre>public&nbsp;long&nbsp;getEstimateLowerBound(long&nbsp;key)</pre>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>key</code> - whose count estimate is returned.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a lower bound on the count for the key (lower bound holds with probability at least
 1-delta)</dd>
</dl>
</li>
</ul>
<a name="getMaxError--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getMaxError</h4>
<pre>public&nbsp;long&nbsp;getMaxError()</pre>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a bound on the error of the estimate one gets from get(key). Note that the error is one
 sided. if the real count is realCount(key) then get(key) &gt;= realCount(key). The
 guarantee of the sketch is that, for any fixed key, with probability at least 1-delta,
 realCount(key) is also at most get(key) + getMaxError()</dd>
</dl>
</li>
</ul>
<a name="merge-com.yahoo.sketches.frequencies.CountMinFast-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>merge</h4>
<pre>public&nbsp;<a href="../../../../com/yahoo/sketches/frequencies/CountMinFast.html" title="class in com.yahoo.sketches.frequencies">CountMinFast</a>&nbsp;merge(<a href="../../../../com/yahoo/sketches/frequencies/CountMinFast.html" title="class in com.yahoo.sketches.frequencies">CountMinFast</a>&nbsp;other)</pre>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>other</code> - Another CountMinFE sketch. Must have been created using the same hash functions
        and have the same parameter values eps, delta.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>pointer to the sketch resulting in adding the approximate counts of another sketch.
         This method does not create a new sketch. The sketch whose function is executed is
         changed.</dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/CountMinFast.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev&nbsp;Class</li>
<li><a href="../../../../com/yahoo/sketches/frequencies/FrequencyEstimator.html" title="class in com.yahoo.sketches.frequencies"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?com/yahoo/sketches/frequencies/CountMinFast.html" target="_top">Frames</a></li>
<li><a href="CountMinFast.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright &#169; 2015&#x2013;2016 <a href="http://www.yahoo.com">Yahoo! Inc.</a>. All rights reserved.</small></p>
</body>
</html>
